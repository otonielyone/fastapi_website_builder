<!DOCTYPE html>
<html>
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %}{% endblock %} - Tools</title>
    <!-- Bootstrap CSS -->
    <link type="text/css" rel="stylesheet" href="/static/bootstrap.min.css" />
    <!-- Custom CSS -->
    <link type="text/css" rel="stylesheet" href="/static/styles.css" />
    
<!-- Add this inside your header or menu-bar in template.html -->
    
    {% block head %}{% endblock %}
</head>
<body>

    <!-- Main Header -->
    <header class="site-header">
        {% block header %}
        <!-- Default navigation menu can be provided here if needed -->
        {% endblock %}
    </header>

    <!-- Main Content -->
    <main>
        {% block body %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h4 class="footer-heading">BROWSE</h4>
                <nav class="footer-nav">
                    <ul>
                        <li><a href="/" class="nav-item current"><span class="nav-item-text">HOME</span></a></li>
                        <li><a href="/buying" class="nav-item"><span class="nav-item-text">BUYING</span></a></li>
                        <li><a href="/rentals" class="nav-item"><span class="nav-item-text">RENTALS</span></a></li>
                        <li><a href="/resources" class="nav-item"><span class="nav-item-text">RESOURCES</span></a></li>
                        <li><a href="/contact" class="nav-item"><span class="nav-item-text">CONTACT</span></a></li>
                    </ul>
                </nav>
            </div>
            <div class="footer-column">
                <h4 class="footer-heading">CONTACT</h4>
                <div class="footer-info">
                    <p class="footer-text"><span class="contact-title">Real Estate Agent, REALTORÂ®</span></p>
                    <p class="footer-text"><span class="contact-name">Otoniel (Toni) Yone</span></p>
                    <p class="footer-text"><span class="contact-email">toni@yone.realtor</span></p>
                    <p class="footer-text"><span class="contact-phone">1-703-596-2121</span></p>
                </div>
            </div>
            <div class="footer-column">
                <img src="/static/icons/realtor1.png" alt="Realtor" class="footer-image">
            </div>
            <div class="footer-column">
                <img src="/static/icons/united.svg" alt="United Logo" class="footer-image">
            </div>
        </div>
    </footer>

    <!-- jQuery and Bootstrap JS -->
    <script src="/static/jquery.min.js"></script>
    <script src="/static/bootstrap.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var hamburgerMenu = document.querySelector('.hamburger-menu');
            var menuBar = document.querySelector('.menu-bar');
            var mobileMenu = document.querySelector('.mobile-menu');
        
            function updateVisibility() {
                var isMobileView = window.innerWidth <= 768; // Adjust breakpoint as needed
                var menuBarVisible = menuBar && menuBar.offsetParent !== null; // Check if .menu-bar is visible
                var mobileMenuVisible = mobileMenu && mobileMenu.classList.contains('active'); // Check if .mobile-menu is visible
        
                if (hamburgerMenu) {
                    if (isMobileView && !menuBarVisible && !mobileMenuVisible) {
                        // Show hamburger menu if .menu-bar is not visible and .mobile-menu is not active
                        hamburgerMenu.style.display = 'block';
                    } else {
                        // Hide hamburger menu if .menu-bar is visible or .mobile-menu is active or not in mobile view
                        hamburgerMenu.style.display = 'none';
                    }
                }
            }
        
            function toggleMobileMenu(event) {
                event.stopPropagation();
                var isActive = mobileMenu.classList.toggle('active');
                updateVisibility();
            }
        
            function closeMobileMenu() {
                if (mobileMenu.classList.contains('active')) {
                    mobileMenu.classList.remove('active');
                    updateVisibility();
                }
            }
        
            function handleDocumentClick(event) {
                if (!mobileMenu.contains(event.target) && !hamburgerMenu.contains(event.target)) {
                    closeMobileMenu();
                }
            }
        
            function handleMobileMenuClick(event) {
                event.stopPropagation();
                closeMobileMenu();
            }
        
            if (hamburgerMenu && mobileMenu) {
                // Initial visibility update
                updateVisibility();
        
                // Add event listeners
                hamburgerMenu.addEventListener('click', toggleMobileMenu);
                document.addEventListener('click', handleDocumentClick);
                mobileMenu.addEventListener('click', handleMobileMenuClick);
        
                // Observe window resize events
                window.addEventListener('resize', updateVisibility);
        
                // Observe changes to the .menu-bar
                const observer = new MutationObserver(updateVisibility);
                if (menuBar) {
                    observer.observe(menuBar, { attributes: true, attributeFilter: ['style'] });
                }
            }
        });
    </script>